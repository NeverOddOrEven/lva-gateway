{
    "@apiVersion": "1.0",
    "name": "RtspMotionDetectorGraph-###RtspCameraId",
    "properties": {
        "description": "Rtsp motion detector graph",
        "sources": [
            {
                "@type": "#Microsoft.Media.MediaGraphRtspSource",
                "name": "RtspSource_###RtspCameraId",
                "endpoint": {
                    "@type": "#Microsoft.Media.MediaGraphClearEndpoint",
                    "url": "###RtspUrl",
                    "credentials": {
                        "@type": "#Microsoft.Media.MediaGraphUsernamePasswordCredentials",
                        "username": "###RtspAuthName",
                        "password": "###RtspAuthPassword"
                    }
                }
            }
        ],
        "processors": [
            {
                "@type": "#Microsoft.Media.MediaGraphMotionDetector",
                "name": "motionDetector",
                "sensitivity": "###Sensitivity",
                "inputs": [
                    {
                        "moduleName": "RtspSource_###RtspCameraId"
                    }
                ]
            }
        ],
        "sinks": [
            {
                "@type": "#Microsoft.Media.MediaGraphIoTHubMessageSink",
                "name": "hubSink",
                "hubOutputName": "lvaTelemetry",
                "inputs": [
                    {
                        "moduleName": "motionDetector"
                    }
                ]
            }
        ]
    }
}